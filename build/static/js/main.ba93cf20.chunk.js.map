{"version":3,"sources":["context/alert/alertContext.js","components/Alert.jsx","components/Navbar.jsx","context/types.js","context/alert/alertReducer.js","context/alert/AlertState.js","context/firebase/firebaseContext.js","context/firebase/firebaseReducer.js","context/firebase/FrebaseState.js","pages/About.jsx","components/Form.jsx","components/Loader.jsx","components/Notes.jsx","pages/Home.jsx","App.js","index.js"],"names":["AlertContext","createContext","Alert","React","useContext","alert","hide","visible","className","type","text","onClick","Navbar","exact","to","SHOW_ALERT","HIDE_ALERT","SHOW_LOADER","ADD_NOTE","FETCH_NOTES","REMOVE_NOTES","handlers","DEFAULT","state","payload","alertReducer","action","AlertState","children","useReducer","dispatch","Provider","value","show","FirebaseContext","loading","notes","filter","note","id","firebaseReducer","DEFULAT","url","console","log","FrebaseState","showLoader","fetchNotes","a","axios","get","undefined","res","data","Object","keys","map","key","addNote","title","date","Date","toJSON","post","name","removeNote","delete","About","Form","useState","setValue","firebase","onSubmit","e","preventDefault","trim","then","catch","placeholder","onChange","target","Loader","role","Notes","onRemove","toLocaleDateString","Home","useEffect","length","Fragment","App","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba93cf20.chunk.js","sourcesContent":["import { createContext } from \"react\"\n\nexport const AlertContext = createContext()\n","import React from \"react\"\nimport { AlertContext } from \"../context/alert/alertContext\"\n\nfunction Alert() {\n  const { alert, hide } = React.useContext(AlertContext)\n  if (!alert.visible) return null\n  return (\n    <div className={`alert alert-${alert.type || \"warning\"} alert-dismissible`}>\n      <strong>Внимание</strong>\n      {alert.text || null}\n      <button onClick={hide} type='button' className='btn-close'>\n        x\n      </button>\n    </div>\n  )\n}\n\nexport default Alert\n","import React from \"react\"\nimport { NavLink } from \"react-router-dom\"\n\nfunction Navbar() {\n  return (\n    <nav className='navbar navbar-dark navbar-expand-lg bg-primary'>\n      <div className='navbar-brand text-light'>Note App</div>\n      <ul className='navbar-nav'>\n        <li className='nav-item'>\n          <NavLink className='nav-link' exact to={\"/\"}>\n            Главная\n          </NavLink>\n        </li>\n        <li className='nav-item'>\n          <NavLink className='nav-link' to={\"/about\"}>\n            Информация\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default Navbar\n","export const SHOW_ALERT = \"SHOW_ALERT\"\nexport const HIDE_ALERT = \"HIDE_ALERT\"\nexport const SHOW_LOADER = \"SHOW_LOADER\"\nexport const ADD_NOTE = \"ADD_NOTE\"\nexport const FETCH_NOTES = \"FETCH_NOTES\"\nexport const REMOVE_NOTES = \"REMOVE_NOTES\"\n","import { HIDE_ALERT, SHOW_ALERT } from \"../types\"\n\nconst handlers = {\n  DEFAULT: (state) => state,\n  [SHOW_ALERT]: (state, { payload }) => ({ ...payload, visible: true }),\n  [HIDE_ALERT]: (state) => ({ ...state, visible: false }),\n}\n\nexport const alertReducer = (state, action) => {\n  const handle = handlers[action.type] || handlers.DEFAULT\n  return handle(state, action)\n}\n","import React from \"react\"\nimport { HIDE_ALERT, SHOW_ALERT } from \"../types\"\nimport { AlertContext } from \"./alertContext\"\nimport { alertReducer } from \"./alertReducer\"\n\nfunction AlertState({ children }) {\n  const [state, dispatch] = React.useReducer(alertReducer, { visible: false })\n  const show = (text, type = \"warning\") => {\n    dispatch({ type: SHOW_ALERT, payload: { text, type } })\n  }\n  const hide = () => dispatch({ type: HIDE_ALERT })\n  return (\n    <AlertContext.Provider value={{ show, hide, alert: state }}>\n      {children}\n    </AlertContext.Provider>\n  )\n}\n\nexport default AlertState\n","import { createContext } from \"react\"\n\nexport const FirebaseContext = createContext()\n","import { ADD_NOTE, FETCH_NOTES, REMOVE_NOTES, SHOW_LOADER } from \"../types\"\n\nconst handlers = {\n  DEFAULT: (state) => state,\n  [SHOW_LOADER]: (state) => ({ ...state, loading: true }),\n  [ADD_NOTE]: (state, { payload }) => ({\n    ...state,\n    notes: [...state.notes, payload],\n  }),\n  [FETCH_NOTES]: (state, { payload }) => ({\n    ...state,\n    notes: payload,\n    loading: false,\n  }),\n  [REMOVE_NOTES]: (state, { payload }) => ({\n    ...state,\n    notes: state.notes.filter((note) => note.id !== payload),\n  }),\n}\n\nexport const firebaseReducer = (state, action) => {\n  const handle = handlers[action.type] || handlers.DEFULAT\n  return handle(state, action)\n}\n","import React from \"react\"\nimport { FirebaseContext } from \"./firebaseContext\"\nimport { firebaseReducer } from \"./firebaseReducer\"\nimport axios from \"axios\"\nimport { ADD_NOTE, FETCH_NOTES, REMOVE_NOTES, SHOW_LOADER } from \"../types\"\nimport { AlertContext } from \"../alert/alertContext\"\n\nconst url = \"https://note-app-60bea-default-rtdb.firebaseio.com\"\nconsole.log(url)\nfunction FrebaseState({ children }) {\n  const initialState = {\n    notes: [],\n    loading: false,\n  }\n  const [state, dispatch] = React.useReducer(firebaseReducer, initialState)\n  const { show } = React.useContext(AlertContext)\n\n  const showLoader = () => dispatch({ type: SHOW_LOADER })\n  const fetchNotes = async () => {\n    showLoader()\n    const res = await axios.get(`${url}/notes.json`)\n\n    if (res.data !== undefined && res.data !== null) {\n      const payload = Object.keys(res.data).map((key) => {\n        return { ...res.data[key], id: key }\n      })\n      dispatch({ type: FETCH_NOTES, payload })\n    } else {\n      return\n    }\n  }\n  const addNote = async (title) => {\n    const note = {\n      title,\n      date: new Date().toJSON(),\n    }\n    const res = await axios.post(`${url}/notes.json`, note)\n    const payload = {\n      ...note,\n      id: res.data.name,\n    }\n    dispatch({ type: ADD_NOTE, payload })\n  }\n  const removeNote = async (id) => {\n    await axios.delete(`${url}/notes/${id}.json`)\n    dispatch({ type: REMOVE_NOTES, payload: id })\n    show(\"Заметка удалена\")\n  }\n  return (\n    <FirebaseContext.Provider\n      value={{\n        fetchNotes,\n        addNote,\n        removeNote,\n        showLoader,\n        loading: state.loading,\n        notes: state.notes,\n      }}>\n      {children}\n    </FirebaseContext.Provider>\n  )\n}\n\nexport default FrebaseState\n","import React from \"react\"\n\nfunction About() {\n  return (\n    <div className='jumbotron '>\n      <div className='container'>\n        <h1 className='display-4'>Note App</h1>\n        <p className='lead'>version 1.1</p>\n      </div>\n    </div>\n  )\n}\n\nexport default About\n","import React from \"react\"\nimport { AlertContext } from \"../context/alert/alertContext\"\nimport { FirebaseContext } from \"../context/firebase/firebaseContext\"\n\nfunction Form() {\n  const [value, setValue] = React.useState(\"\")\n  const alert = React.useContext(AlertContext)\n  const firebase = React.useContext(FirebaseContext)\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if (value.trim()) {\n      firebase\n        .addNote(value.trim())\n        .then(() => alert.show(\"Заметка создана\", \"success\"))\n        .catch(() => alert.show(\"что-то пошло не так \", \"danger\"))\n      setValue(\"\")\n    } else {\n      alert.show(\"Напишите заметку!!\")\n    }\n  }\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className='form-group'>\n        <input\n          type='text'\n          className='form-control'\n          placeholder='enter your text'\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n        />\n      </div>\n    </form>\n  )\n}\n\nexport default Form\n","import React from \"react\"\n\nfunction Loader() {\n  return (\n    <div className='text-center'>\n      <div className='spinner-border' role='status'>\n        <span className='visually-hidden'></span>\n      </div>\n    </div>\n  )\n}\n\nexport default Loader\n","import React from \"react\"\n\nfunction Notes({ notes, onRemove }) {\n  return (\n    <ul className=' list-group'>\n      {notes &&\n        notes.map((note) => (\n          <li className='note list-group-item' key={note.id}>\n            <div>\n              <strong>{note.title}</strong>\n              <span>{new Date().toLocaleDateString()}</span>\n            </div>\n            <button\n              onClick={() => onRemove(note.id)}\n              type='button'\n              className='btn btn-sm btn-outline-danger'>\n              &times;\n            </button>\n          </li>\n        ))}\n    </ul>\n  )\n}\n\nexport default Notes\n","import React from \"react\"\nimport Form from \"../components/Form\"\nimport Loader from \"../components/Loader\"\nimport Notes from \"../components/Notes\"\nimport { FirebaseContext } from \"../context/firebase/firebaseContext\"\n\nfunction Home() {\n  const { loading, removeNote, notes, fetchNotes, addNote } = React.useContext(\n    FirebaseContext\n  )\n\n  React.useEffect(() => {\n    fetchNotes()\n    // eslint-disable-next-line\n  }, [notes.length])\n  return (\n    <React.Fragment>\n      <Form />\n      <hr />\n      {loading ? <Loader /> : <Notes notes={notes} onRemove={removeNote} />}\n    </React.Fragment>\n  )\n}\nexport default Home\n","import React from \"react\"\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\"\nimport Alert from \"./components/Alert\"\nimport Navbar from \"./components/Navbar\"\nimport AlertState from \"./context/alert/AlertState\"\nimport FrebaseState from \"./context/firebase/FrebaseState\"\nimport About from \"./pages/About\"\nimport Home from \"./pages/Home\"\n\nfunction App() {\n  return (\n    <AlertState>\n      <FrebaseState>\n        <BrowserRouter>\n          <Navbar />\n          <div className='container pt-5'>\n            <Alert />\n            <Switch>\n              <Route path={\"/\"} exact component={Home} />\n              <Route path={\"/about\"} component={About} />\n            </Switch>\n          </div>\n        </BrowserRouter>\n      </FrebaseState>\n    </AlertState>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.scss\"\nimport App from \"./App\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}