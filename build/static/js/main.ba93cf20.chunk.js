(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],{40:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(32),o=n.n(s),i=(n(40),n(14)),u=n(2),l=Object(c.createContext)();var j=function(){var e=r.a.useContext(l),t=e.alert,n=e.hide;return t.visible?Object(a.jsxs)("div",{className:"alert alert-".concat(t.type||"warning"," alert-dismissible"),children:[Object(a.jsx)("strong",{children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435"}),t.text||null,Object(a.jsx)("button",{onClick:n,type:"button",className:"btn-close",children:"x"})]}):null};var b,d=function(){return Object(a.jsxs)("nav",{className:"navbar navbar-dark navbar-expand-lg bg-primary",children:[Object(a.jsx)("div",{className:"navbar-brand text-light",children:"Note App"}),Object(a.jsxs)("ul",{className:"navbar-nav",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(i.b,{className:"nav-link",exact:!0,to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(i.b,{className:"nav-link",to:"/about",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"})})]})]})},O=n(12),p="SHOW_ALERT",v="HIDE_ALERT",x="SHOW_LOADER",h="ADD_NOTE",f="FETCH_NOTES",m="REMOVE_NOTES",N=n(9),y=n(4),g=(b={DEFAULT:function(e){return e}},Object(N.a)(b,p,(function(e,t){var n=t.payload;return Object(y.a)(Object(y.a)({},n),{},{visible:!0})})),Object(N.a)(b,v,(function(e){return Object(y.a)(Object(y.a)({},e),{},{visible:!1})})),b),w=function(e,t){return(g[t.type]||g.DEFAULT)(e,t)};var E,k=function(e){var t=e.children,n=r.a.useReducer(w,{visible:!1}),c=Object(O.a)(n,2),s=c[0],o=c[1];return Object(a.jsx)(l.Provider,{value:{show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";o({type:p,payload:{text:e,type:t}})},hide:function(){return o({type:v})},alert:s},children:t})},D=n(11),C=n.n(D),A=n(17),T=Object(c.createContext)(),L=n(34),S=(E={DEFAULT:function(e){return e}},Object(N.a)(E,x,(function(e){return Object(y.a)(Object(y.a)({},e),{},{loading:!0})})),Object(N.a)(E,h,(function(e,t){var n=t.payload;return Object(y.a)(Object(y.a)({},e),{},{notes:[].concat(Object(L.a)(e.notes),[n])})})),Object(N.a)(E,f,(function(e,t){var n=t.payload;return Object(y.a)(Object(y.a)({},e),{},{notes:n,loading:!1})})),Object(N.a)(E,m,(function(e,t){var n=t.payload;return Object(y.a)(Object(y.a)({},e),{},{notes:e.notes.filter((function(e){return e.id!==n}))})})),E),R=function(e,t){return(S[t.type]||S.DEFULAT)(e,t)},F=n(18),_=n.n(F),H="https://note-app-60bea-default-rtdb.firebaseio.com";console.log(H);var U=function(e){var t=e.children,n=r.a.useReducer(R,{notes:[],loading:!1}),c=Object(O.a)(n,2),s=c[0],o=c[1],i=r.a.useContext(l).show,u=function(){return o({type:x})},j=function(){var e=Object(A.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(),e.next=3,_.a.get("".concat(H,"/notes.json"));case 3:if(void 0===(t=e.sent).data||null===t.data){e.next=9;break}n=Object.keys(t.data).map((function(e){return Object(y.a)(Object(y.a)({},t.data[e]),{},{id:e})})),o({type:f,payload:n}),e.next=10;break;case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(A.a)(C.a.mark((function e(t){var n,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:t,date:(new Date).toJSON()},e.next=3,_.a.post("".concat(H,"/notes.json"),n);case 3:a=e.sent,c=Object(y.a)(Object(y.a)({},n),{},{id:a.data.name}),o({type:h,payload:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("".concat(H,"/notes/").concat(t,".json"));case 2:o({type:m,payload:t}),i("\u0417\u0430\u043c\u0435\u0442\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(T.Provider,{value:{fetchNotes:j,addNote:b,removeNote:d,showLoader:u,loading:s.loading,notes:s.notes},children:t})};var J=function(){return Object(a.jsx)("div",{className:"jumbotron ",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"display-4",children:"Note App"}),Object(a.jsx)("p",{className:"lead",children:"version 1.1"})]})})};var I=function(){var e=r.a.useState(""),t=Object(O.a)(e,2),n=t[0],c=t[1],s=r.a.useContext(l),o=r.a.useContext(T);return Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),n.trim()?(o.addNote(n.trim()).then((function(){return s.show("\u0417\u0430\u043c\u0435\u0442\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430","success")})).catch((function(){return s.show("\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a ","danger")})),c("")):s.show("\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0443!!")},children:Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"enter your text",value:n,onChange:function(e){return c(e.target.value)}})})})};var M=function(){return Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"visually-hidden"})})})};var P=function(e){var t=e.notes,n=e.onRemove;return Object(a.jsx)("ul",{className:" list-group",children:t&&t.map((function(e){return Object(a.jsxs)("li",{className:"note list-group-item",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:e.title}),Object(a.jsx)("span",{children:(new Date).toLocaleDateString()})]}),Object(a.jsx)("button",{onClick:function(){return n(e.id)},type:"button",className:"btn btn-sm btn-outline-danger",children:"\xd7"})]},e.id)}))})};var W=function(){var e=r.a.useContext(T),t=e.loading,n=e.removeNote,c=e.notes,s=e.fetchNotes;return e.addNote,r.a.useEffect((function(){s()}),[c.length]),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("hr",{}),t?Object(a.jsx)(M,{}):Object(a.jsx)(P,{notes:c,onRemove:n})]})};var B=function(){return Object(a.jsx)(k,{children:Object(a.jsx)(U,{children:Object(a.jsxs)(i.a,{children:[Object(a.jsx)(d,{}),Object(a.jsxs)("div",{className:"container pt-5",children:[Object(a.jsx)(j,{}),Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/",exact:!0,component:W}),Object(a.jsx)(u.a,{path:"/about",component:J})]})]})]})})})};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(B,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.ba93cf20.chunk.js.map